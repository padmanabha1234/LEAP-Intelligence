<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Register</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Passion+One' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
 </head>
 <body style="background-color:#ccc;">
  <div style="display: flex; align-items: center;">
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Your Image" style="width: 80px; height: 80px; margin-right: 10px;">
    <div>
        <p style="color: white;">LEAP | Actionable Intelligence</p>
    </div>
</div>
 <div class="container ">
   <div class="row main">
    <div class="main-login main-center">
        <div class="center-align"
            <h5> Register New User </h5>
        </div>
     <form action="{{ url_for('register') }}" method="post" autocomplete="off"> 
      <div class="form-group mb-0">
       <label for="name" class="cols-sm-2 control-label">Name</label>
       <div class="cols-sm-10">
        <div class="input-group">
         <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
         <input type="text" class="form-control" name="fullname" id="fullname"  placeholder="Enter your Name"/>
        </div>
       </div>
      </div>
      <div class="form-group mb-0">
       <label for="email" class="cols-sm-2 control-label">Email Id</label>
       <div class="cols-sm-10">
        <div class="input-group">
         <span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
         <input type="text" class="form-control" name="email" id="email"  placeholder="Enter your Email id"/>
        </div>
       </div>
      </div>
      <div class="form-group mb-0">
        <label for="companyname" class="cols-sm-2 control-label">Company name (optional) </label>
        <div class="cols-sm-10">
         <div class="input-group">
          <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
          <input type="text" class="form-control" name="companyname" id="companyname" placeholder="Enter your Companyname">
         </div>
        </div>
       </div>
       <div class="form-group mb-0">
        <label for="role" class="cols-sm-2 control-label">Role (optional)</label>
        <div class="cols-sm-10">
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-address-card" aria-hidden="true"></i></span>
                <input type="text" class="form-control" name="role" id="role" placeholder="Enter your Role ">
            </div>
        </div>
    </div>

    <div class="form-group mb-0">
      <label for="phonenumber" class="cols-sm-2 control-label">Phone number (optional)</label>
      <div class="cols-sm-10">
        <div class="input-group">
          <span class="input-group-addon">
            <i class="fa fa-phone fa-flip-horizontal" aria-hidden="true"></i>
          </span>
          <input type="text" class="form-control" name="phonenumber" id="phonenumber" placeholder="Enter your Phone number">
        </div>
      </div>
    </div>

      <div class="form-group mb-0">
       <label for="username" class="cols-sm-2 control-label">Username</label>
       <div class="cols-sm-10">
        <div class="input-group">
         <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
         <input type="text" class="form-control" name="username" id="username" placeholder="Enter your Username" required>
        </div>
       </div>
      </div>
      
      <div class="form-group mb-4">
       <label for="password" class="cols-sm-2 control-label">Password</label>
       <div class="cols-sm-10">
        <div class="input-group">
         <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
         <input type="password" class="form-control" name="password" placeholder="Password" id="password" required  placeholder="Enter your Password"/>
        </div>
       </div>
      </div>
  
      <div class="form-group ">
        {% with messages = get_flashed_messages()  %}
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
       <input type="submit" id="addUserButton" value="Register" class="form-control btn btn-primary " name="">        
      </div>
        
     </form>
    </div>
   </div>
  </div>
  <div class="footer">
    &copy;  Copyright 2023, all rights reserved with Tibil Solutions.
</div>

<script>
  document.getElementById("addUserButton").addEventListener("click", function() {
      const username = document.getElementById("username").value;
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
       
      const userData = {
          username: username,
          email: email,
          password: password
      };
      console.log(userData)
      fetch("/add_user", {
          method: "POST",
          headers: {
              "Content-Type": "application/json"
          },
          body: JSON.stringify(userData)
      });
  });
</script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>  
 </body>
</html>